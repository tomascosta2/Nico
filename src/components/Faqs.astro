---
const faqs = [
  {
    pregunta: "¿Cuánto tiempo lleva ver resultados?",
    respuesta:
      "Los primeros resultados suelen verse en las primeras 2-4 semanas.",
  },
  {
    pregunta: "¿Cuánto tiempo lleva ver resultados?",
    respuesta:
      "Los primeros resultados suelen verse en las primeras 2-4 semanas.",
  },
  {
    pregunta: "¿Cuánto tiempo lleva ver resultados?",
    respuesta:
      "Los primeros resultados suelen verse en las primeras 2-4 semanas.",
  },
  {
    pregunta: "¿Cuánto tiempo lleva ver resultados?",
    respuesta:
      "Los primeros resultados suelen verse en las primeras 2-4 semanas.",
  },
  {
    pregunta: "¿Cuánto tiempo lleva ver resultados?",
    respuesta:
      "Los primeros resultados suelen verse en las primeras 2-4 semanas.",
  },
  {
    pregunta: "¿Cuánto tiempo lleva ver resultados?",
    respuesta:
      "Los primeros resultados suelen verse en las primeras 2-4 semanas.",
  },
];
---

<section id="faqs" class="relative py-[60px] lg:py-[100px]">
  <div class="tc-container">
    <h2
      class="text-[32px] text-white md:text-[42px] font-semibold mb-4 text-center"
    >
      Preguntas Frecuentes
    </h2>
    <div class="max-w-[800px] mx-auto" id="faq-container">
      {
        faqs.map((item, index) => (
          <div
            class="faq-item w-full cursor-pointer p-[20px] border-b border-b-white/50 last:border-b-0"
            data-index={index}>
            <h3 class="faq-question font-semibold text-[18px] md:text-[20px] text-white flex justify-between items-center">
              {item.pregunta}
              <svg
                class="faq-icon min-w-[20px] size-[20px] transition-all duration-300"
                fill="#FFF"
                viewBox="0 0 448 512">
                <path d="M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z" />
              </svg>
            </h3>
            <div class="faq-answer normal-case overflow-hidden duration-500 transition-all max-h-0">
              <p class="text-white/80 text-[18px] pt-[10px]">
                {item.respuesta}
              </p>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>

<script is:inline>
  document.addEventListener("DOMContentLoaded", function () {
    const faqItems = document.querySelectorAll(".faq-item");
    faqItems.forEach((item) => {
      const question = item.querySelector(".faq-question");
      const answer = item.querySelector(".faq-answer");
      const icon = item.querySelector(".faq-icon");
      if (question && answer && icon) {
        question.addEventListener("click", () => {
          const isOpen = answer.classList.contains("max-h-[2000px]");
          document
            .querySelectorAll(".faq-answer")
            .forEach((ans) => ans.classList.remove("max-h-[2000px]"));
          document
            .querySelectorAll(".faq-icon")
            .forEach((i) => i.classList.remove("rotate-45"));
          if (!isOpen) {
            answer.classList.add("max-h-[2000px]");
            icon.classList.add("rotate-45");
          }
        });
      }
    });
  });
</script>
